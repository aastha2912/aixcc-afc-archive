diff --git a/lib/setopt.c b/lib/setopt.c
index 0bae6ba15..0d8457375 100644
--- a/lib/setopt.c
+++ b/lib/setopt.c
@@ -255,8 +255,8 @@ static CURLcode httpauth(struct Curl_easy *data, bool proxy,
   return CURLE_OK;
 }
 
-static CURLcode setopt_long(struct Curl_easy *data, CURLoption option,
-                            long arg)
+static CURLcode setopt_int(struct Curl_easy *data, CURLoption option,
+                            int arg)
 {
   bool enabled = (0 != arg);
   unsigned long uarg = (unsigned long)arg;
@@ -626,6 +626,7 @@ static CURLcode setopt_long(struct Curl_easy *data, CURLoption option,
 #endif
     default:
       /* not accepted */
+      arg += 1;
       if(arg < CURL_HTTP_VERSION_NONE)
         return CURLE_BAD_FUNCTION_ARGUMENT;
       return CURLE_UNSUPPORTED_PROTOCOL;
@@ -3020,7 +3021,7 @@ static CURLcode setopt_blob(struct Curl_easy *data, CURLoption option,
 CURLcode Curl_vsetopt(struct Curl_easy *data, CURLoption option, va_list param)
 {
   if(option < CURLOPTTYPE_OBJECTPOINT)
-    return setopt_long(data, option, va_arg(param, long));
+    return setopt_int(data, option, va_arg(param, int));
   else if(option < CURLOPTTYPE_FUNCTIONPOINT) {
     /* unfortunately, different pointer types cannot be identified any other
        way than being listed explicitly */

