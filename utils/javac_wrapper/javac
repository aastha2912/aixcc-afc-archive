#!/bin/bash

# Store the current script's directory
current_script="$(readlink -f "$(command -v javac)")"

# Iterate through directories in PATH to find other 'javac' executables
IFS=':' read -r -a path_dirs <<< "$PATH"
for dir in "${path_dirs[@]}"; do
    # Check if 'javac' exists in this directory
    candidate="$dir/javac"
    if [[ -x "$candidate" ]]; then
        # Resolve the absolute path of the candidate
        resolved_candidate="$(readlink -f "$candidate")"
        # Skip the current script
        if [[ "$resolved_candidate" != "$current_script" ]]; then
            # Call the first other 'javac' with '-g' and all other arguments
            "$resolved_candidate" -g "$@"
            exit 0
        fi
    fi
done

# If no other 'javac' is found, print an error
echo "No other 'javac' executable found in PATH." >&2
exit 1
