--- src/samples/mock_vp.c
+++ src/samples/mock_vp.c
@@ -9,13 +9,15 @@ char items[3][10];
 void func_a() {
     char* buff;
     int i = 0;
-    do {
+    for (i = 0; i < 3; i++) {
         printf("input item:");
         buff = &items[i][0];
-        fgets(buff, 40, stdin);
+        fgets(buff, sizeof(items[i]), stdin);
         buff[strcspn(buff, "\n")] = 0;
-    } while (strlen(buff) != 0);
-    i--;
+        if (strlen(buff) == 0) break;
+    }
+    if (i == 3) i--;
 }
 
 void func_b() {
